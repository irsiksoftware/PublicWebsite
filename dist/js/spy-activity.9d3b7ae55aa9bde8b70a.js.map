{"version":3,"file":"js/spy-activity.9d3b7ae55aa9bde8b70a.js","mappings":"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","sources":["webpack://testforai/./js/spy-activity.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', async () => {\r\n    const tbody = document.getElementById('spy-activity-tbody');\r\n    const table = document.getElementById('spy-activity-table');\r\n    const toolFilter = document.getElementById('tool-filter');\r\n    const filterCount = document.getElementById('filter-count');\r\n\r\n    let activityData = [];\r\n    let filteredData = [];\r\n    let currentSort = { column: null, ascending: true };\r\n    let currentFilter = 'all';\r\n    let currentPage = 1;\r\n    const rowsPerPage = 20;\r\n\r\n    async function loadSpyActivity() {\r\n        // Show skeleton loading state\r\n        showTableSkeleton(tbody, 7);\r\n\r\n        try {\r\n            const response = await fetch('./data/spy-activity.json');\r\n            if (!response.ok) {\r\n                if (response.status === 404) {\r\n                    throw new Error('Resource not found: ./data/spy-activity.json');\r\n                }\r\n                throw new Error(`HTTP error! status: ${response.status}`);\r\n            }\r\n            activityData = await response.json();\r\n\r\n            activityData = activityData.slice(0, 50);\r\n\r\n            applyFilter();\r\n        } catch (error) {\r\n            console.error('Error loading spy activity:', error);\r\n\r\n            // Clear existing content\r\n            tbody.innerHTML = '';\r\n\r\n            // Create error message\r\n            const errorRow = document.createElement('tr');\r\n            const errorCell = document.createElement('td');\r\n            errorCell.colSpan = 7;\r\n            errorCell.style.padding = '20px';\r\n\r\n            const errorContainer = document.createElement('div');\r\n            errorContainer.style.cssText = `\r\n                padding: 20px;\r\n                background-color: #fff3cd;\r\n                border: 1px solid #ffc107;\r\n                border-radius: 4px;\r\n                color: #856404;\r\n            `;\r\n\r\n            const title = document.createElement('h4');\r\n            title.textContent = 'Data unavailable';\r\n            title.style.cssText = 'margin: 0 0 10px 0; font-weight: bold;';\r\n\r\n            const message = document.createElement('p');\r\n            message.style.cssText = 'margin: 0 0 10px 0;';\r\n\r\n            if (error.message.includes('not found') || error.message.includes('404')) {\r\n                message.textContent = 'The data file \"spy-activity.json\" is missing. Please run the aggregation tool to generate the required data files.';\r\n            } else {\r\n                message.textContent = `Error loading spy activity data: ${error.message}`;\r\n            }\r\n\r\n            const retryButton = document.createElement('button');\r\n            retryButton.textContent = 'Retry';\r\n            retryButton.style.cssText = `\r\n                padding: 8px 16px;\r\n                background-color: #007bff;\r\n                color: white;\r\n                border: none;\r\n                border-radius: 4px;\r\n                cursor: pointer;\r\n                font-size: 14px;\r\n            `;\r\n            retryButton.addEventListener('click', () => loadSpyActivity());\r\n            retryButton.addEventListener('mouseenter', () => {\r\n                retryButton.style.backgroundColor = '#0056b3';\r\n            });\r\n            retryButton.addEventListener('mouseleave', () => {\r\n                retryButton.style.backgroundColor = '#007bff';\r\n            });\r\n\r\n            errorContainer.appendChild(title);\r\n            errorContainer.appendChild(message);\r\n            errorContainer.appendChild(retryButton);\r\n            errorCell.appendChild(errorContainer);\r\n            errorRow.appendChild(errorCell);\r\n            tbody.appendChild(errorRow);\r\n        }\r\n    }\r\n\r\n    function applyFilter() {\r\n        if (currentFilter === 'all') {\r\n            filteredData = activityData;\r\n        } else {\r\n            filteredData = activityData.filter(entry => entry.tool === currentFilter);\r\n        }\r\n\r\n        currentPage = 1;\r\n        updateFilterCount();\r\n        renderCurrentPage();\r\n    }\r\n\r\n    function updateFilterCount() {\r\n        const total = activityData.length;\r\n        const showing = filteredData.length;\r\n\r\n        if (currentFilter === 'all' || showing === total) {\r\n            filterCount.textContent = '';\r\n        } else {\r\n            filterCount.textContent = `Showing ${showing} of ${total} commands`;\r\n        }\r\n    }\r\n\r\n    function getCacheStatusIcon(status) {\r\n        if (!status) return '';\r\n\r\n        const normalized = status.toLowerCase();\r\n        let icon = '';\r\n        let className = '';\r\n        let tooltip = '';\r\n\r\n        if (normalized === 'hit') {\r\n            icon = '✓';\r\n            className = 'cache-hit';\r\n            tooltip = `Cache Hit (${status})`;\r\n        } else if (normalized === 'miss') {\r\n            icon = '-';\r\n            className = 'cache-miss';\r\n            tooltip = `Cache Miss (${status})`;\r\n        } else if (normalized === 'partial' || normalized === 'static') {\r\n            icon = 'S';\r\n            className = 'cache-static';\r\n            tooltip = `Static Cache (${status})`;\r\n        }\r\n\r\n        return `<span class=\"cache-icon ${className}\" title=\"${tooltip}\">${icon}</span>`;\r\n    }\r\n\r\n    function renderTable(data) {\r\n        if (!data || data.length === 0) {\r\n            tbody.innerHTML = '<tr><td colspan=\"7\">No activity data available</td></tr>';\r\n            return;\r\n        }\r\n\r\n        tbody.innerHTML = data.map(entry => {\r\n            const timestamp = new Date(entry.timestamp).toLocaleString();\r\n            const cacheIcon = getCacheStatusIcon(entry.cache_status);\r\n            return `\r\n                <tr>\r\n                    <td>${timestamp}</td>\r\n                    <td>${escapeHtml(entry.agent)}</td>\r\n                    <td>${escapeHtml(entry.tool || '')}</td>\r\n                    <td>${escapeHtml(entry.command)}</td>\r\n                    <td>${entry.exit_code}</td>\r\n                    <td>${entry.duration_ms}</td>\r\n                    <td>${cacheIcon}</td>\r\n                </tr>\r\n            `;\r\n        }).join('');\r\n    }\r\n\r\n    function renderCurrentPage() {\r\n        const totalPages = Math.ceil(filteredData.length / rowsPerPage);\r\n        const startIndex = (currentPage - 1) * rowsPerPage;\r\n        const endIndex = startIndex + rowsPerPage;\r\n        const pageData = filteredData.slice(startIndex, endIndex);\r\n\r\n        renderTable(pageData);\r\n        updatePaginationControls(totalPages);\r\n    }\r\n\r\n    function updatePaginationControls(totalPages) {\r\n        const pageInfo = document.getElementById('page-info');\r\n        const prevBtn = document.getElementById('prev-page');\r\n        const nextBtn = document.getElementById('next-page');\r\n\r\n        pageInfo.textContent = `Page ${currentPage} of ${totalPages}`;\r\n        prevBtn.disabled = currentPage === 1;\r\n        nextBtn.disabled = currentPage === totalPages || totalPages === 0;\r\n    }\r\n\r\n    function goToPage(direction) {\r\n        if (direction === 'prev' && currentPage > 1) {\r\n            currentPage--;\r\n        } else if (direction === 'next') {\r\n            const totalPages = Math.ceil(filteredData.length / rowsPerPage);\r\n            if (currentPage < totalPages) {\r\n                currentPage++;\r\n            }\r\n        }\r\n        renderCurrentPage();\r\n    }\r\n\r\n    function escapeHtml(text) {\r\n        const div = document.createElement('div');\r\n        div.textContent = text;\r\n        return div.innerHTML;\r\n    }\r\n\r\n    function sortData(column) {\r\n        if (currentSort.column === column) {\r\n            currentSort.ascending = !currentSort.ascending;\r\n        } else {\r\n            currentSort.column = column;\r\n            currentSort.ascending = true;\r\n        }\r\n\r\n        filteredData.sort((a, b) => {\r\n            let valA = a[column];\r\n            let valB = b[column];\r\n\r\n            if (column === 'timestamp') {\r\n                valA = new Date(valA).getTime();\r\n                valB = new Date(valB).getTime();\r\n            } else if (column === 'exit_code' || column === 'duration_ms') {\r\n                valA = Number(valA);\r\n                valB = Number(valB);\r\n            } else {\r\n                valA = String(valA).toLowerCase();\r\n                valB = String(valB).toLowerCase();\r\n            }\r\n\r\n            if (valA < valB) return currentSort.ascending ? -1 : 1;\r\n            if (valA > valB) return currentSort.ascending ? 1 : 1;\r\n            return 0;\r\n        });\r\n\r\n        currentPage = 1;\r\n        renderCurrentPage();\r\n        updateSortIndicators(column);\r\n    }\r\n\r\n    function updateSortIndicators(activeColumn) {\r\n        const headers = table.querySelectorAll('th');\r\n        headers.forEach(th => {\r\n            const arrow = th.querySelector('.sort-arrow');\r\n            if (arrow) {\r\n                const column = th.dataset.column;\r\n                if (column === activeColumn) {\r\n                    arrow.textContent = currentSort.ascending ? ' ▲' : ' ▼';\r\n                    arrow.classList.add('active');\r\n                } else {\r\n                    arrow.textContent = '';\r\n                    arrow.classList.remove('active');\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    table.querySelectorAll('th[data-column]').forEach(th => {\r\n        th.style.cursor = 'pointer';\r\n        th.addEventListener('click', () => {\r\n            const column = th.dataset.column;\r\n            sortData(column);\r\n        });\r\n    });\r\n\r\n    toolFilter.addEventListener('change', () => {\r\n        currentFilter = toolFilter.value;\r\n        applyFilter();\r\n    });\r\n\r\n    document.getElementById('prev-page').addEventListener('click', () => goToPage('prev'));\r\n    document.getElementById('next-page').addEventListener('click', () => goToPage('next'));\r\n\r\n    await loadSpyActivity();\r\n\r\n    function showTableSkeleton(tbody, columnCount) {\r\n        tbody.innerHTML = '';\r\n\r\n        // Create 5 skeleton rows\r\n        for (let i = 0; i < 5; i++) {\r\n            const row = document.createElement('tr');\r\n            row.className = 'skeleton-table-row';\r\n\r\n            for (let j = 0; j < columnCount; j++) {\r\n                const cell = document.createElement('td');\r\n                const skeletonDiv = document.createElement('div');\r\n                skeletonDiv.className = 'skeleton skeleton-table-cell skeleton-table-cell-medium';\r\n                cell.appendChild(skeletonDiv);\r\n                row.appendChild(cell);\r\n            }\r\n\r\n            tbody.appendChild(row);\r\n        }\r\n    }\r\n});\r\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","document","addEventListener","_callee2","tbody","table","toolFilter","filterCount","activityData","filteredData","currentSort","currentFilter","currentPage","rowsPerPage","loadSpyActivity","_loadSpyActivity","applyFilter","updateFilterCount","getCacheStatusIcon","renderTable","renderCurrentPage","updatePaginationControls","goToPage","escapeHtml","sortData","updateSortIndicators","showTableSkeleton","_context2","columnCount","innerHTML","row","createElement","className","j","cell","skeletonDiv","appendChild","activeColumn","querySelectorAll","forEach","th","arrow","querySelector","dataset","column","textContent","ascending","classList","add","remove","sort","b","valA","valB","Date","getTime","Number","String","toLowerCase","text","div","direction","totalPages","Math","ceil","pageInfo","getElementById","prevBtn","nextBtn","concat","disabled","startIndex","endIndex","pageData","slice","data","map","entry","timestamp","toLocaleString","cacheIcon","cache_status","agent","tool","command","exit_code","duration_ms","join","status","normalized","icon","tooltip","total","showing","filter","_callee","response","errorRow","errorCell","errorContainer","title","message","retryButton","_t","_context","fetch","ok","Error","json","colSpan","style","padding","cssText","includes","backgroundColor","cursor"],"sourceRoot":""}