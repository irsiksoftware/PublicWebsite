{"version":3,"file":"js/data-refresh.59282cfed6670d27ee74.js","mappings":"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","sources":["webpack://testforai/./js/data-refresh.js"],"sourcesContent":["/**\r\n * Data refresh functionality\r\n * Provides a UI button to manually refresh all cached JSON data\r\n */\r\n\r\nimport { clearCache } from './data-loader.js';\r\n\r\n/**\r\n * Shows a toast notification\r\n * @param {string} message - The message to display\r\n * @param {string} type - The type of notification ('success' or 'error')\r\n */\r\nfunction showToast(message, type = 'success') {\r\n    const existingToast = document.querySelector('.data-refresh-toast');\r\n    if (existingToast) {\r\n        existingToast.remove();\r\n    }\r\n\r\n    const toast = document.createElement('div');\r\n    toast.className = `data-refresh-toast ${type}`;\r\n    toast.textContent = message;\r\n    toast.setAttribute('role', 'alert');\r\n    toast.setAttribute('aria-live', 'polite');\r\n\r\n    document.body.appendChild(toast);\r\n\r\n    // Trigger animation\r\n    setTimeout(() => toast.classList.add('show'), 10);\r\n\r\n    // Auto-remove after 3 seconds\r\n    setTimeout(() => {\r\n        toast.classList.remove('show');\r\n        setTimeout(() => toast.remove(), 300);\r\n    }, 3000);\r\n}\r\n\r\n/**\r\n * Initializes the refresh button in the header\r\n */\r\nfunction initRefreshButton() {\r\n    const header = document.querySelector('header');\r\n    if (!header) {\r\n        console.error('Header element not found');\r\n        return;\r\n    }\r\n\r\n    const refreshButton = document.createElement('button');\r\n    refreshButton.className = 'data-refresh-btn';\r\n    refreshButton.setAttribute('aria-label', 'Refresh data');\r\n    refreshButton.setAttribute('title', 'Refresh data');\r\n    refreshButton.innerHTML = 'ðŸ”„';\r\n\r\n    refreshButton.addEventListener('click', async () => {\r\n    // Disable button and add loading state\r\n        refreshButton.disabled = true;\r\n        refreshButton.classList.add('loading');\r\n\r\n        try {\r\n            // Clear all cached data\r\n            clearCache();\r\n\r\n            // Reload the page to refetch all data\r\n            await new Promise(resolve => setTimeout(resolve, 300)); // Brief delay for UX\r\n\r\n            showToast('Data refreshed successfully');\r\n\r\n            // Reload after showing toast\r\n            setTimeout(() => {\r\n                window.location.reload();\r\n            }, 500);\r\n        } catch (error) {\r\n            console.error('Error refreshing data:', error);\r\n            showToast('Failed to refresh data', 'error');\r\n            refreshButton.disabled = false;\r\n            refreshButton.classList.remove('loading');\r\n        }\r\n    });\r\n\r\n    header.appendChild(refreshButton);\r\n}\r\n\r\n// Initialize when DOM is ready\r\nif (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', initRefreshButton);\r\n} else {\r\n    initRefreshButton();\r\n}\r\n\r\nexport { showToast };\r\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","showToast","message","type","undefined","existingToast","document","querySelector","remove","toast","createElement","className","concat","textContent","setAttribute","body","appendChild","setTimeout","classList","add","initRefreshButton","header","refreshButton","innerHTML","addEventListener","_callee","_context","disabled","clearCache","window","location","reload","readyState"],"sourceRoot":""}