/*! For license information please see spy-activity.9d3b7ae55aa9bde8b70a.js.LICENSE.txt */
"use strict";(self.webpackChunktestforai=self.webpackChunktestforai||[]).push([[351],{50:()=>{function t(){var n,r,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.toStringTag||"@@toStringTag";function i(t,o,a,c){var i=o&&o.prototype instanceof s?o:s,d=Object.create(i.prototype);return e(d,"_invoke",function(t,e,o){var a,c,i,s=0,d=o||[],l=!1,f={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(t,e){return a=t,c=0,i=n,f.n=e,u}};function p(t,e){for(c=t,i=e,r=0;!l&&s&&!o&&r<d.length;r++){var o,a=d[r],p=f.p,m=a[2];t>3?(o=m===e)&&(i=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=n):a[0]<=p&&((o=t<2&&p<a[1])?(c=0,f.v=e,f.n=a[1]):p<m&&(o=t<3||a[0]>e||e>m)&&(a[4]=t,a[5]=e,f.n=m,c=0))}if(o||t>1)return u;throw l=!0,e}return function(o,d,m){if(s>1)throw TypeError("Generator is already running");for(l&&1===d&&p(d,m),c=d,i=m;(r=c<2?n:i)||!l;){a||(c?c<3?(c>1&&(f.n=-1),p(c,i)):f.n=i:f.v=i);try{if(s=2,a){if(c||(o="next"),r=a[o]){if(!(r=r.call(a,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,c<2&&(c=0)}else 1===c&&(r=a.return)&&r.call(a),c<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=n}else if((r=(l=f.n<0)?i:t.call(e,f))!==u)break}catch(t){a=n,c=1,i=t}finally{s=1}}return{value:r,done:l}}}(t,a,c),!0),d}var u={};function s(){}function d(){}function l(){}r=Object.getPrototypeOf;var f=[][a]?r(r([][a]())):(e(r={},a,function(){return this}),r),p=l.prototype=s.prototype=Object.create(f);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,e(t,c,"GeneratorFunction")),t.prototype=Object.create(p),t}return d.prototype=l,e(p,"constructor",l),e(l,"constructor",d),d.displayName="GeneratorFunction",e(l,c,"GeneratorFunction"),e(p),e(p,c,"Generator"),e(p,a,function(){return this}),e(p,"toString",function(){return"[object Generator]"}),(t=function(){return{w:i,m}})()}function e(t,n,r,o){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}e=function(t,n,r,o){function c(n,r){e(t,n,function(t){return this._invoke(n,r,t)})}n?a?a(t,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[n]=r:(c("next",0),c("throw",1),c("return",2))},e(t,n,r,o)}function n(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function r(t){return function(){var e=this,r=arguments;return new Promise(function(o,a){var c=t.apply(e,r);function i(t){n(c,o,a,i,u,"next",t)}function u(t){n(c,o,a,i,u,"throw",t)}i(void 0)})}}document.addEventListener("DOMContentLoaded",r(t().m(function e(){var n,o,a,c,i,u,s,d,l,f,p,m,v,h,g,y,b,E,x,w,C,k,L;return t().w(function(e){for(;;)switch(e.n){case 0:return L=function(t,e){t.innerHTML="";for(var n=0;n<5;n++){var r=document.createElement("tr");r.className="skeleton-table-row";for(var o=0;o<e;o++){var a=document.createElement("td"),c=document.createElement("div");c.className="skeleton skeleton-table-cell skeleton-table-cell-medium",a.appendChild(c),r.appendChild(a)}t.appendChild(r)}},k=function(t){o.querySelectorAll("th").forEach(function(e){var n=e.querySelector(".sort-arrow");n&&(e.dataset.column===t?(n.textContent=s.ascending?" ▲":" ▼",n.classList.add("active")):(n.textContent="",n.classList.remove("active")))})},C=function(t){s.column===t?s.ascending=!s.ascending:(s.column=t,s.ascending=!0),u.sort(function(e,n){var r=e[t],o=n[t];return"timestamp"===t?(r=new Date(r).getTime(),o=new Date(o).getTime()):"exit_code"===t||"duration_ms"===t?(r=Number(r),o=Number(o)):(r=String(r).toLowerCase(),o=String(o).toLowerCase()),r<o?s.ascending?-1:1:r>o?(s.ascending,1):0}),l=1,b(),k(t)},w=function(t){var e=document.createElement("div");return e.textContent=t,e.innerHTML},x=function(t){if("prev"===t&&l>1)l--;else if("next"===t){var e=Math.ceil(u.length/f);l<e&&l++}b()},E=function(t){var e=document.getElementById("page-info"),n=document.getElementById("prev-page"),r=document.getElementById("next-page");e.textContent="Page ".concat(l," of ").concat(t),n.disabled=1===l,r.disabled=l===t||0===t},b=function(){var t=Math.ceil(u.length/f),e=(l-1)*f,n=e+f,r=u.slice(e,n);y(r),E(t)},y=function(t){t&&0!==t.length?n.innerHTML=t.map(function(t){var e=new Date(t.timestamp).toLocaleString(),n=g(t.cache_status);return"\n                <tr>\n                    <td>".concat(e,"</td>\n                    <td>").concat(w(t.agent),"</td>\n                    <td>").concat(w(t.tool||""),"</td>\n                    <td>").concat(w(t.command),"</td>\n                    <td>").concat(t.exit_code,"</td>\n                    <td>").concat(t.duration_ms,"</td>\n                    <td>").concat(n,"</td>\n                </tr>\n            ")}).join(""):n.innerHTML='<tr><td colspan="7">No activity data available</td></tr>'},g=function(t){if(!t)return"";var e=t.toLowerCase(),n="",r="",o="";return"hit"===e?(n="✓",r="cache-hit",o="Cache Hit (".concat(t,")")):"miss"===e?(n="-",r="cache-miss",o="Cache Miss (".concat(t,")")):"partial"!==e&&"static"!==e||(n="S",r="cache-static",o="Static Cache (".concat(t,")")),'<span class="cache-icon '.concat(r,'" title="').concat(o,'">').concat(n,"</span>")},h=function(){var t=i.length,e=u.length;c.textContent="all"===d||e===t?"":"Showing ".concat(e," of ").concat(t," commands")},v=function(){u="all"===d?i:i.filter(function(t){return t.tool===d}),l=1,h(),b()},m=function(){return(m=r(t().m(function e(){var r,o,a,c,u,s,d,l;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:return L(n,7),t.p=1,t.n=2,fetch("./data/spy-activity.json");case 2:if((r=t.v).ok){t.n=4;break}if(404!==r.status){t.n=3;break}throw new Error("Resource not found: ./data/spy-activity.json");case 3:throw new Error("HTTP error! status: ".concat(r.status));case 4:return t.n=5,r.json();case 5:i=(i=t.v).slice(0,50),v(),t.n=7;break;case 6:t.p=6,l=t.v,n.innerHTML="",o=document.createElement("tr"),(a=document.createElement("td")).colSpan=7,a.style.padding="20px",(c=document.createElement("div")).style.cssText="\n                padding: 20px;\n                background-color: #fff3cd;\n                border: 1px solid #ffc107;\n                border-radius: 4px;\n                color: #856404;\n            ",(u=document.createElement("h4")).textContent="Data unavailable",u.style.cssText="margin: 0 0 10px 0; font-weight: bold;",(s=document.createElement("p")).style.cssText="margin: 0 0 10px 0;",l.message.includes("not found")||l.message.includes("404")?s.textContent='The data file "spy-activity.json" is missing. Please run the aggregation tool to generate the required data files.':s.textContent="Error loading spy activity data: ".concat(l.message),(d=document.createElement("button")).textContent="Retry",d.style.cssText="\n                padding: 8px 16px;\n                background-color: #007bff;\n                color: white;\n                border: none;\n                border-radius: 4px;\n                cursor: pointer;\n                font-size: 14px;\n            ",d.addEventListener("click",function(){return p()}),d.addEventListener("mouseenter",function(){d.style.backgroundColor="#0056b3"}),d.addEventListener("mouseleave",function(){d.style.backgroundColor="#007bff"}),c.appendChild(u),c.appendChild(s),c.appendChild(d),a.appendChild(c),o.appendChild(a),n.appendChild(o);case 7:return t.a(2)}},e,null,[[1,6]])}))).apply(this,arguments)},p=function(){return m.apply(this,arguments)},n=document.getElementById("spy-activity-tbody"),o=document.getElementById("spy-activity-table"),a=document.getElementById("tool-filter"),c=document.getElementById("filter-count"),i=[],u=[],s={column:null,ascending:!0},d="all",l=1,f=20,o.querySelectorAll("th[data-column]").forEach(function(t){t.style.cursor="pointer",t.addEventListener("click",function(){var e=t.dataset.column;C(e)})}),a.addEventListener("change",function(){d=a.value,v()}),document.getElementById("prev-page").addEventListener("click",function(){return x("prev")}),document.getElementById("next-page").addEventListener("click",function(){return x("next")}),e.n=1,p();case 1:return e.a(2)}},e)})))}},t=>{var e;e=50,t(t.s=e)}]);
//# sourceMappingURL=spy-activity.9d3b7ae55aa9bde8b70a.js.map