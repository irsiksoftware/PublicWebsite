{"version":3,"file":"js/732.d1da731db4a73cc84a72.js","mappings":"qHAIA,IAAMA,EAAQ,IAAIC,IAyDX,SAASC,IACZF,EAAMG,OACV,C","sources":["webpack://testforai/./js/data-loader.js"],"sourcesContent":["/**\r\n * Data loader utility for fetching JSON files with retry logic and caching\r\n */\r\n\r\nconst cache = new Map();\r\n\r\n/**\r\n * Load JSON data from a URL with retry logic and caching\r\n * @param {string} url - The URL to fetch JSON from\r\n * @param {number} maxRetries - Maximum number of retry attempts (default: 3)\r\n * @returns {Promise<any>} The parsed JSON data\r\n */\r\nexport async function loadJSON(url, maxRetries = 3) {\r\n    // Return cached result if available\r\n    if (cache.has(url)) {\r\n        return cache.get(url);\r\n    }\r\n\r\n    let lastError;\r\n\r\n    for (let attempt = 0; attempt < maxRetries; attempt++) {\r\n        try {\r\n            const response = await fetch(url);\r\n\r\n            if (!response.ok) {\r\n                if (response.status === 404) {\r\n                    throw new Error(`Resource not found: ${url}`);\r\n                }\r\n                throw new Error(`HTTP error ${response.status}: ${response.statusText}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            // Cache successful result\r\n            cache.set(url, data);\r\n\r\n            return data;\r\n\r\n        } catch (error) {\r\n            lastError = error;\r\n\r\n            // Don't retry on 404 or JSON parse errors\r\n            if (error.message.includes('not found') || error instanceof SyntaxError) {\r\n                throw error;\r\n            }\r\n\r\n            // Exponential backoff: wait before retrying (except on last attempt)\r\n            if (attempt < maxRetries - 1) {\r\n                const delay = Math.pow(2, attempt) * 100; // 100ms, 200ms, 400ms\r\n                await new Promise(resolve => setTimeout(resolve, delay));\r\n            }\r\n        }\r\n    }\r\n\r\n    // All retries exhausted\r\n    throw new Error(`Failed to load ${url} after ${maxRetries} attempts: ${lastError.message}`);\r\n}\r\n\r\n/**\r\n * Clear the cache (useful for testing or forcing fresh data)\r\n */\r\nexport function clearCache() {\r\n    cache.clear();\r\n}\r\n"],"names":["cache","Map","clearCache","clear"],"sourceRoot":""}