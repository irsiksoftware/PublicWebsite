{"version":3,"file":"js/table-keyboard-navigation.c7ae39eb963799c3b2d4.js","mappings":"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","sources":["webpack://testforai/./js/table-keyboard-navigation.js"],"sourcesContent":["// Table Keyboard Navigation Component\r\n// Implements keyboard navigation for all tables in the application\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    initializeTableKeyboardNavigation();\r\n});\r\n\r\nfunction initializeTableKeyboardNavigation() {\r\n    const tables = document.querySelectorAll('table');\r\n\r\n    tables.forEach(table => {\r\n        makeTableNavigable(table);\r\n    });\r\n}\r\n\r\nfunction makeTableNavigable(table) {\r\n    const tbody = table.querySelector('tbody');\r\n    if (!tbody) return;\r\n\r\n    // Make table rows focusable and add keyboard event listeners\r\n    const rows = tbody.querySelectorAll('tr');\r\n\r\n    rows.forEach((row, index) => {\r\n        // Make row focusable\r\n        row.setAttribute('tabindex', '0');\r\n        row.setAttribute('role', 'button');\r\n\r\n        // Add keyboard event handler\r\n        row.addEventListener('keydown', function(event) {\r\n            handleTableKeyboardNavigation(event, table, row, index);\r\n        });\r\n\r\n        // Add click handler for Enter key consistency\r\n        row.addEventListener('click', function() {\r\n            // Trigger any existing click handlers\r\n            row.dispatchEvent(new CustomEvent('rowSelect', {\r\n                detail: { row: row, index: index }\r\n            }));\r\n        });\r\n    });\r\n}\r\n\r\nfunction handleTableKeyboardNavigation(event, table, currentRow, currentIndex) {\r\n    const tbody = table.querySelector('tbody');\r\n    const rows = Array.from(tbody.querySelectorAll('tr'));\r\n    const cells = Array.from(currentRow.querySelectorAll('td, th'));\r\n\r\n    switch(event.key) {\r\n    case 'Enter':\r\n    case ' ':\r\n        // Activate row (trigger click)\r\n        event.preventDefault();\r\n        currentRow.click();\r\n        break;\r\n\r\n    case 'ArrowUp':\r\n        event.preventDefault();\r\n        if (currentIndex > 0) {\r\n            rows[currentIndex - 1].focus();\r\n        }\r\n        break;\r\n\r\n    case 'ArrowDown':\r\n        event.preventDefault();\r\n        if (currentIndex < rows.length - 1) {\r\n            rows[currentIndex + 1].focus();\r\n        }\r\n        break;\r\n\r\n    case 'ArrowLeft':\r\n        event.preventDefault();\r\n        navigateCells(cells, currentRow, -1);\r\n        break;\r\n\r\n    case 'ArrowRight':\r\n        event.preventDefault();\r\n        navigateCells(cells, currentRow, 1);\r\n        break;\r\n\r\n    case 'Home':\r\n        event.preventDefault();\r\n        if (event.ctrlKey) {\r\n            // Go to first row\r\n            rows[0].focus();\r\n        } else {\r\n            // Go to first cell in row\r\n            cells[0]?.focus();\r\n        }\r\n        break;\r\n\r\n    case 'End':\r\n        event.preventDefault();\r\n        if (event.ctrlKey) {\r\n            // Go to last row\r\n            rows[rows.length - 1].focus();\r\n        } else {\r\n            // Go to last cell in row\r\n            cells[cells.length - 1]?.focus();\r\n        }\r\n        break;\r\n    }\r\n}\r\n\r\nfunction navigateCells(cells, row, direction) {\r\n    // Get currently focused element\r\n    const activeElement = document.activeElement;\r\n\r\n    // Check if we're in a cell or on the row\r\n    if (activeElement === row || !row.contains(activeElement)) {\r\n        // Focus first or last cell depending on direction\r\n        if (direction > 0 && cells.length > 0) {\r\n            cells[0].setAttribute('tabindex', '0');\r\n            cells[0].focus();\r\n        } else if (direction < 0 && cells.length > 0) {\r\n            cells[cells.length - 1].setAttribute('tabindex', '0');\r\n            cells[cells.length - 1].focus();\r\n        }\r\n        return;\r\n    }\r\n\r\n    // Find current cell index\r\n    const currentCellIndex = cells.findIndex(cell => cell === activeElement || cell.contains(activeElement));\r\n\r\n    if (currentCellIndex === -1) return;\r\n\r\n    // Calculate next cell index\r\n    const nextIndex = currentCellIndex + direction;\r\n\r\n    if (nextIndex >= 0 && nextIndex < cells.length) {\r\n        cells[nextIndex].setAttribute('tabindex', '0');\r\n        cells[nextIndex].focus();\r\n\r\n        // Remove tabindex from previous cell\r\n        cells[currentCellIndex].setAttribute('tabindex', '-1');\r\n    } else {\r\n        // Return focus to row\r\n        row.focus();\r\n        cells.forEach(cell => cell.setAttribute('tabindex', '-1'));\r\n    }\r\n}\r\n\r\n// Re-initialize navigation when tables are dynamically updated\r\nconst observer = new MutationObserver(function(mutations) {\r\n    mutations.forEach(function(mutation) {\r\n        if (mutation.type === 'childList') {\r\n            mutation.addedNodes.forEach(function(node) {\r\n                if (node.nodeType === 1) { // Element node\r\n                    if (node.tagName === 'TABLE') {\r\n                        makeTableNavigable(node);\r\n                    } else {\r\n                        const tables = node.querySelectorAll?.('table');\r\n                        tables?.forEach(table => makeTableNavigable(table));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n});\r\n\r\n// Observe the document body for table additions\r\nobserver.observe(document.body, {\r\n    childList: true,\r\n    subtree: true\r\n});\r\n"],"names":["makeTableNavigable","table","tbody","querySelector","querySelectorAll","forEach","row","index","setAttribute","addEventListener","event","currentRow","currentIndex","rows","Array","from","cells","key","preventDefault","click","focus","length","navigateCells","_cells$","ctrlKey","_cells","handleTableKeyboardNavigation","dispatchEvent","CustomEvent","detail","direction","activeElement","document","contains","currentCellIndex","findIndex","cell","nextIndex","MutationObserver","mutations","mutation","type","addedNodes","node","nodeType","tagName","_node$querySelectorAl","tables","call","observe","body","childList","subtree"],"sourceRoot":""}