{"version":3,"file":"js/agent-selector.f2ee6362bfd8847c84d8.js","mappings":"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","sources":["webpack://testforai/./js/agent-selector.js"],"sourcesContent":["let selectedAgent = null;\r\nlet allEnabledAgents = [];\r\nlet debounceTimer = null;\r\n\r\nfunction filterAgents(searchTerm) {\r\n    const select = document.getElementById('agent-selector');\r\n    if (!select) return;\r\n\r\n    const lowerSearch = searchTerm.toLowerCase().trim();\r\n\r\n    const filteredAgents = lowerSearch === ''\r\n        ? allEnabledAgents\r\n        : allEnabledAgents.filter(agent =>\r\n            agent.name.toLowerCase().includes(lowerSearch) ||\r\n            agent.alias.toLowerCase().includes(lowerSearch) ||\r\n            agent.role.toLowerCase().includes(lowerSearch)\r\n        );\r\n\r\n    select.innerHTML = filteredAgents.length === 0\r\n        ? '<option value=\"\">No matches found</option>'\r\n        : '<option value=\"\">Select an agent...</option>';\r\n\r\n    select.setAttribute('aria-live', 'polite');\r\n\r\n    filteredAgents.forEach(agent => {\r\n        const option = document.createElement('option');\r\n        option.value = agent.name;\r\n        option.textContent = `${agent.name} (${agent.alias}) - ${agent.role}`;\r\n        select.appendChild(option);\r\n    });\r\n}\r\n\r\nfunction setupSearchDebounce() {\r\n    const searchInput = document.getElementById('agent-search');\r\n    if (!searchInput) return;\r\n\r\n    searchInput.addEventListener('input', (event) => {\r\n        if (debounceTimer) {\r\n            clearTimeout(debounceTimer);\r\n        }\r\n\r\n        debounceTimer = setTimeout(() => {\r\n            filterAgents(event.target.value);\r\n        }, 300);\r\n    });\r\n}\r\n\r\nasync function loadAgents() {\r\n    try {\r\n        const response = await fetch('./data/agents.json');\r\n        if (!response.ok) {\r\n            if (response.status === 404) {\r\n                throw new Error('Resource not found: ./data/agents.json');\r\n            }\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        const data = await response.json();\r\n\r\n        allEnabledAgents = data.agents.filter(agent => agent.enabled);\r\n\r\n        const select = document.getElementById('agent-selector');\r\n        if (!select) {\r\n            console.error('Agent selector element not found');\r\n            return;\r\n        }\r\n\r\n        filterAgents('');\r\n\r\n        select.addEventListener('change', (event) => {\r\n            selectedAgent = event.target.value || null;\r\n            console.log('Selected agent:', selectedAgent);\r\n        });\r\n\r\n        setupSearchDebounce();\r\n\r\n    } catch (error) {\r\n        console.error('Failed to load agents:', error);\r\n\r\n        const select = document.getElementById('agent-selector');\r\n        if (select) {\r\n            select.innerHTML = '';\r\n\r\n            const errorContainer = document.createElement('div');\r\n            errorContainer.style.cssText = `\r\n                padding: 20px;\r\n                margin: 10px 0;\r\n                background-color: #fff3cd;\r\n                border: 1px solid #ffc107;\r\n                border-radius: 4px;\r\n                color: #856404;\r\n            `;\r\n\r\n            const title = document.createElement('h4');\r\n            title.textContent = 'Data unavailable';\r\n            title.style.cssText = 'margin: 0 0 10px 0; font-weight: bold;';\r\n\r\n            const message = document.createElement('p');\r\n            message.style.cssText = 'margin: 0 0 10px 0;';\r\n\r\n            if (error.message.includes('not found') || error.message.includes('404')) {\r\n                message.textContent = 'The data file \"agents.json\" is missing. Please run the aggregation tool to generate the required data files.';\r\n            } else {\r\n                message.textContent = `Error loading agents: ${error.message}`;\r\n            }\r\n\r\n            const retryButton = document.createElement('button');\r\n            retryButton.textContent = 'Retry';\r\n            retryButton.style.cssText = `\r\n                padding: 8px 16px;\r\n                background-color: #007bff;\r\n                color: white;\r\n                border: none;\r\n                border-radius: 4px;\r\n                cursor: pointer;\r\n                font-size: 14px;\r\n            `;\r\n            retryButton.addEventListener('click', () => loadAgents());\r\n            retryButton.addEventListener('mouseenter', () => {\r\n                retryButton.style.backgroundColor = '#0056b3';\r\n            });\r\n            retryButton.addEventListener('mouseleave', () => {\r\n                retryButton.style.backgroundColor = '#007bff';\r\n            });\r\n\r\n            errorContainer.appendChild(title);\r\n            errorContainer.appendChild(message);\r\n            errorContainer.appendChild(retryButton);\r\n\r\n            select.parentElement.insertBefore(errorContainer, select);\r\n        }\r\n    }\r\n}\r\n\r\nif (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', loadAgents);\r\n} else {\r\n    loadAgents();\r\n}\r\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","allEnabledAgents","debounceTimer","filterAgents","searchTerm","select","document","getElementById","lowerSearch","toLowerCase","trim","filteredAgents","filter","agent","name","includes","alias","role","innerHTML","setAttribute","forEach","option","createElement","textContent","concat","appendChild","setupSearchDebounce","searchInput","addEventListener","event","clearTimeout","setTimeout","target","loadAgents","_loadAgents","apply","arguments","_callee","response","data","_select","errorContainer","title","message","retryButton","_t","_context","fetch","ok","status","Error","json","agents","enabled","style","cssText","backgroundColor","parentElement","insertBefore","_next","_throw","readyState"],"sourceRoot":""}